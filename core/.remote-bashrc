set -o vi
bind -m vi-insert "\C-l":clear-screen

PS1="\u@\h($(ip -o -f inet a | awk -F'[/ ]+' '! / lo /{printf $2"/"$4" "}' | sed 's/ $//')):\w \n\t "

alias status="systemctl status"
alias start="systemctl start"
alias stop="systemctl stop"
alias restart="systemctl restart"
alias services="systemctl list-unit-files"

alias rm="rm -i"
alias cp="cp -i"
alias mv="mv -i"

alias ..="cd .."
alias ll="ls -alF"
alias ls="ls --color=auto"
alias grep="grep --color=auto"

atw() {
  df -h --total -P -l | grep ^/dev
}

terse() {
  sed -e "s/^\s*#.*$//g;/^$/d" < $1 | vim -c "set ft=dosini" -
}

open-port() {
    iptables -A INPUT -p tcp --dport $1 -j ACCEPT
}

ssht() {
    RCL=$RCF
    ssh -t $@ "RCF=\$(mktemp); echo '$(xxd -p $RCL)' | xxd -p -r > \$RCF; RCF=\$RCF bash --rcfile \$RCF"
}
